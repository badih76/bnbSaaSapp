(()=>{var e={};e.id=535,e.ids=[535],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},67245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(27356),r(83221),r(45203),r(35866);var s=r(23191),i=r(88716),a=r(37922),n=r.n(a),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["reservations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27356)),"C:\\Projects\\nextjs\\esm-airbnb-14\\src\\app\\reservations\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,83221)),"C:\\Projects\\nextjs\\esm-airbnb-14\\src\\app\\reservations\\loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,45203)),"C:\\Projects\\nextjs\\esm-airbnb-14\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Projects\\nextjs\\esm-airbnb-14\\src\\app\\reservations\\page.tsx"],x="/reservations/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/reservations/page",pathname:"/reservations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94290:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,17962))},35303:()=>{},17962:(e,t,r)=>{"use strict";r.d(t,{RemoveFromFavoriteButton:()=>c,default:()=>l});var s=r(10326),i=r(91664),a=r(77506);let n=(0,r(62881).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);r(17577);var o=r(60962);let l=function(){let{pending:e}=(0,o.useFormStatus)();return s.jsx(s.Fragment,{children:e?s.jsx(i.z,{variant:"outline",size:"icon",className:"bg-primary-foreground",disabled:!0,children:s.jsx(a.Z,{className:"h-2 w-2 animate-spin text-primary"})}):s.jsx(i.z,{variant:"outline",size:"icon",className:"bg-primary-foreground",type:"submit",children:s.jsx(n,{className:"w-4 h-4"})})})};function c(){let{pending:e}=(0,o.useFormStatus)();return s.jsx(s.Fragment,{children:e?s.jsx(i.z,{variant:"outline",size:"icon",className:"bg-primary-foreground",disabled:!0,children:s.jsx(a.Z,{className:"h-2 w-2 animate-spin text-primary"})}):s.jsx(i.z,{variant:"outline",size:"icon",className:"bg-primary-foreground",type:"submit",children:s.jsx(n,{className:"w-4 h-4 text-primary-foreground",fill:"#E21C49"})})})}},72010:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var s=r(19510),i=r(85460),a=r(64249),n=r(17710),o=r(57371);r(71159);var l=r(68570);let c=(0,l.createProxy)(String.raw`C:\Projects\nextjs\esm-airbnb-14\src\app\my-components\AddToFavoriteButton\index.tsx#default`),d=(0,l.createProxy)(String.raw`C:\Projects\nextjs\esm-airbnb-14\src\app\my-components\AddToFavoriteButton\index.tsx#RemoveFromFavoriteButton`);var x=r(34165);let u=function({imagePath:e,price:t,description:r,country:l,userId:u,favoriteId:m,isInFavoriteList:p,homeId:h,pathName:g}){let{getCountryByValue:v}=(0,i.FE)(),f=v(l);return console.log({isInFavoriteList:p}),(0,s.jsxs)("div",{className:"flex flex-col border-2 rounded-lg border-gray-300 p-3 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"relative h-56",children:[s.jsx(n.default,{src:`https://vihbisloauhjiimyfhfu.supabase.co/storage/v1/object/public/esm-bnb-images/${e}`,alt:r,fill:!0,className:"rounded-lg h-full object-cover mb-3"}),u&&s.jsx("div",{className:"z-10 absolute top-2 right-2",children:p?(0,s.jsxs)("form",{action:x.removeFromFavorites,children:[s.jsx("input",{type:"hidden",name:"favoriteId",value:m}),s.jsx("input",{type:"hidden",name:"userId",value:u}),s.jsx("input",{type:"hidden",name:"pathName",value:g}),s.jsx(d,{})]}):(0,s.jsxs)("form",{action:x.addToFavorites,children:[s.jsx("input",{type:"hidden",name:"homeId",value:h}),s.jsx("input",{type:"hidden",name:"userId",value:u}),s.jsx("input",{type:"hidden",name:"pathName",value:g}),s.jsx(c,{})]})})]}),(0,s.jsxs)(o.default,{href:`/home/${h}`,children:[s.jsx("h3",{className:"font-medium text-base mt-2 p-2",children:(0,s.jsxs)("div",{className:"w-full flex flex-row gap-2",children:[s.jsx("div",{className:"flex flex-col justify-center items-center",children:s.jsx("img",{src:(0,a.U)(l),width:"20",height:"8",alt:"Country Flag"})}),f?.label+" / "+f?.region]})}),s.jsx("p",{className:"text-muted-foreground text-xs line-clamp-3",children:r}),(0,s.jsxs)("p",{className:"pt-2 text-muted-foreground",children:[s.jsx("span",{className:"font-medium text-black",children:"AUD "+t})," "," per night"]})]})]})}},67066:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(19510);let i=(0,r(27162).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);r(71159);let a=function(){return(0,s.jsxs)("div",{className:"flex min-h-[400px] flex-col items-center justify-center rounded-md border border-dashed p-8 text-center animate-in fade-in-50 mt-10",children:[s.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:s.jsx(i,{className:"h-10 w-10 text-primary"})}),s.jsx("div",{children:s.jsx("h2",{className:"mt-6 text-xl font-semibold",children:"No Items Found"})})]})}},94933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(19510),i=r(94443);function a(){return(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[s.jsx(i.O,{className:"h-56 w-full rounded-lg bg-gray-100"}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(i.O,{className:"h-4 w-full  bg-gray-100"}),s.jsx(i.O,{className:"h-4 w-full  bg-gray-100"}),s.jsx(i.O,{className:"h-4 w-3/5  bg-gray-100"})]})]})}r(71159);let n=()=>(0,s.jsxs)("div",{className:"grid lg:grid-cols-5 sm:grid-cols-3 md-grid-cols-3 gap-8 mt-8",children:[s.jsx(a,{}),s.jsx(a,{}),s.jsx(a,{}),s.jsx(a,{}),s.jsx(a,{})]})},83221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(19510);r(71159);var i=r(94933);let a=function(){return(0,s.jsxs)("section",{className:"container mx-auto px-5 lg:px-10 mt-10",children:[s.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"My Reservations"}),s.jsx(i.Z,{})]})}},27356:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(19510);r(71159);var i=r(67066),a=r(72010),n=r(86892),o=r(65247),l=r(58585);async function c(e){return await n.Z.reservations.findMany({where:{userId:e},select:{Home:{select:{id:!0,country:!0,photo:!0,description:!0,price:!0,Favorites:{where:{userId:e}}}}}})}let d=async function(){let{getUser:e}=(0,o.Gs)(),t=await e();if(!t)return(0,l.redirect)("/");let r=await c(t?.id);return(0,s.jsxs)("section",{className:"container mx-auto px-5 lg:px-10 mt-10",children:[s.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"My Reservations"}),0===r.length?s.jsx(i.Z,{}):s.jsx("div",{className:"grid lg:grid-cols-5 sm:grid-cols-3 md-grid-cols-3 gap-8 mt-8",children:r.map(e=>{let{id:r,photo:i,description:n,country:o,price:l,Favorites:c}=e.Home;return s.jsx(a.Z,{imagePath:i,id:r,price:l,description:n,country:o,userId:t.id,isInFavoriteList:c.length>0,favoriteId:c[0]?.id,homeId:r,pathName:"/favorites"},r)})})]})}},94443:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var s=r(19510),i=r(40644);function a({className:e,...t}){return s.jsx("div",{className:(0,i.cn)("animate-pulse rounded-md bg-primary/10",e),...t})}},85460:(e,t,r)=>{"use strict";r.d(t,{FE:()=>a,dG:()=>i});let s=r(52688).Z.map(e=>({value:e.cca2,label:e.name.common,flag:e.flag,latLang:e.latlng,region:e.region})),i=e=>s.find(t=>t.value===e),a=()=>({getAllCountries:()=>s,getCountryByValue:e=>s.find(t=>t.value===e),getCountryByName:e=>s.find(t=>t.label===e)})},40644:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(55761),i=r(62386);function a(...e){return(0,i.m6)((0,s.W)(e))}},64249:(e,t,r)=>{"use strict";var s;r.d(t,{U:()=>i,d:()=>s}),function(e){e.FS16x12="16x12",e.FS20x15="20x15",e.FS24x18="24x18",e.FS28x21="28x21",e.FS32x24="32x24",e.FS36x27="36x27",e.FS40x30="40x30",e.FS48x36="48x36",e.FS56x42="56x42",e.FS60x45="60x45",e.FS64x48="64x48",e.FS72x54="72x54",e.FS80x60="80x60",e.FS84x63="84x63",e.FS96x72="96x72",e.FS108x8="108x8",e.FS112x8="112x8",e.FS120x9="120x9",e.FS128x9="128x9",e.FS144x1="144x1",e.FS160x1="160x1",e.FS192x1="192x1",e.FS224x1="224x1",e.FS256x192="256x192"}(s||(s={}));let i=(e,t="20x15")=>`https://flagcdn.com/${t}/${e.toLowerCase()}.png`},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(66621);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,247,506,621,86,688,406],()=>r(67245));module.exports=s})();